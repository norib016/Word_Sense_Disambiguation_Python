# Word_Sense_Disambiguation
word sense disambiguation, NLP feature extraction, decision list rules

1. Introduction of this project

  The purpose of this project is to disambiguate word sense in a given sentence.

  In the test data, there is a list of sentences including the word "line" or "lines". 
  The sense could be either "product" or "phone". 

  This project aims to idendify the sense of "line" or "lines" based on the training dataset. 

  Example: 

  Following sentence is from the test file. "lines" is the ambigous word. This project is trying to identfy the sense (could be "product" or "phone") of "lines" in this sentense. 

    - But he doesn't apologize for the idea, because ZapMail was an effort to address a real and continuing problem. Facsimile machines, which transmit documents over telephone <head>lines</head> , are eating into Federal's overnight business.
  

2.  Features were used from the training dataset (from higher priority to lower priority):

    - Two words before and after the ambiguous word.
    - One word before and after the ambiguous word.
    - Two words before the ambiguous word.        
    - Two words after the ambiguous word.    
    - One word before the ambiguous word.
    - One word after the ambiguous word.
    
    Besides the above six features, a few words that highly related to "phone" were used to identify the ambiguous words.

3. Accuracy
    - My accuracy is 92.857%
    - Baseline accuracy is 42.857%
    
4. Confusion matrix
                           (predicted)
                        product    phone
            product        49        5
            phone           4        68
    
    - 49 products were correctly identified as products     
    - 5 products were misidentified as phones
    - 68 phones were correctly identified as phones
    - 4 phones were misidentified as products


5. Algorithm 

    -> 1) import train, test files based on user's input
    
    -> 2) extract instance ID, sense ID and the associated <context> from "line-train.xml"
    
    -> 3) preprocess the <context> and identify the ambigious word
    
    -> 4) extract six types of features, and create six feature lists based on the location of the ambigous word
             For example: (left word, ambigous word), (right word, ambigous word), (left word + right word, ambigous word)...
        
    -> 5) based on the above six feature lists, calculate the featue occurrence in terms of sense "product" and "phone", 
          store them in six dataframes. Each dataframe stores the features occurrence to sense "product" and "phone". 
              For example:
                            product    phone
                   access      2         1
                   the         5         4
    
    -> 6) extract instance ID and the ambiguous associated <context> from "line-test.xml"
    
    -> 7) iterate each <context>, extract six features based the location of ambigouous word, same as 4)
          iterate each feature and look up the associated dataframes created at 5) to calculate log-likelihood of P(product|feature)|P(phone|feature) and return the sense which has higher P(product|feature) and P(product|phone)
  
          -> if the feature is not exist, return sense "product", because it has higher occurrence than "phone" in training dataset
          -> if P(product|feature) = P(phone|feature), return sense "product"
    
    -> 8) compare the log-likelihood generated by each feature, choose the sense returned by the feature which has the highest log-likelihood
    
    -> 9) store all the identified senses in a list, adjust the format, print the list out and store it in a new file: my-line-answers.txt. 

6. How to run the scripts

  - please place "decision-list.py" and "scorer.py" in the same directory
    
6.1 decision-list.py

    - Create a folder called "PA3" in the same directory with "decision-list.py"
    - Put these 3 files under the folder "PA3": line-train.xml, line-test.xml, line-answers.txt
    - Open terminator, for example: Windows "Command Prompt"
    - Navigate to the directory of "decision-list.py"
    - Enter "python decision-list.py line-train.xml line-test.xml my-decision-list.txt my-line-answers.txt" and execute the script
    Result: 
        - In the terminator, it will show answer tags of the test data.
          For example: <answer instance="line-n.w7_057:1203:" senseid ="phone"/>
          ...
          
        - It will create a file named "my-line-answers.txt" under the folder folder "PA3". It stores the answers(senses) for test data.
        - It will also create a file named "my-decision-list.txt" under the folder "PA3". It stores the features,
          the log-likelihood scores associated with the features. It will also store the sense that was predicted and the instance ID. 

6.2 scorer.py

    - Open terminator, for example: Windows "Command Prompt"
    - Navigate to the directory of "scorer.py"
    - Enter "python scorer.py my-line-answers.txt line-answers.txt" and execute the script
    Result: 
        - It will show the base line accuracy and my overall accuray 
        - It will also show the confusion matrix 
